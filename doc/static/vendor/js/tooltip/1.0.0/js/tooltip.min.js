/*
 * tooltip - v1.0.0 - 2018-08-15 16:57:11 Wednesday
 * https://github.com/heanes/tooltip.js
 * Copyright (c) 2018 Heanes
 * Licensed MIT License
 */

!function(l,p,r,s){"use strict";var h="tooltip",t={title:"Tooltip",enableHtml:!1,placement:"top-center",autoAdaptPlacement:!0,theme:"default",opacity:1,enableAnimation:!0,delay:{show:1e3,hide:1e3},animation:s,trigger:"hover",keepShowWhenOnTip:!0,keepShowWhenClickTip:!1,cancelKeepShowWhenClickOtherPlace:!1,positionOffset:s,$container:l("body"),template:'<div class="tooltip-wrap" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',beforeShow:s,afterShow:s,beforeHide:s,afterHide:s,onToggle:s};l.fn.extend({animateCss:function(t,i){var e=function(t){var i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var e in i)if(t.style[e]!==s)return i[e]}(r.createElement("div"));return this.addClass("animated "+t).one(e,function(){l(this).removeClass("animated "+t),"function"==typeof i&&i()}),this}});var a=function(t,i){return this._defaults=this.getDefaults(),this.options=null,this.$element=null,this.inState=null,this.init(t,i),{options:this.options,init:l.proxy(this.init,this),destroy:l.proxy(this.destroy,this),refreshOption:l.proxy(this.refreshOption,this),show:l.proxy(this.show,this),hide:l.proxy(this.hide,this),toggle:l.proxy(this.toggle,this),tip:l.proxy(this.tip,this),title:l.proxy(this.title,this),getDefaults:l.proxy(this.getDefaults,this)}};function f(t){p.console&&p.console.error(t)}a.V=a.VERSION="1.0.0",a.DEFAULTS=t,a.prototype.init=function(t,i){return this.$element=l(t),this.$el_=this.$element.clone(!0),this.options=this.getOptions(i),this.inState={show:!1,click:!1,hover:!1,keepShow:!1,tipClick:!1,tipHover:!1},this.timer={timerDetach:s},this.tipUId=s,this.tipPosition={},this.animation=s,this.bindEvent(),this.fixTitle(),this},a.prototype.getOptions=function(t){return this.handleToStandardOption(t)},a.prototype.handleToStandardOption=function(t){var i=this.getDefaults();return(t=l.extend({},i,this.$element.data(),t)).delay&&("number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"object"==typeof t.delay&&(t.delay=l.extend({},i.delay,t.delay))),t},a.prototype.refreshOption=function(t){return this.options=l.extend(!0,{},this.options,t),this.getOptions(this.options),this.destroy(),this.init(),this},a.prototype.destroy=function(){return this.$element.html(this.$el_.html()),this},a.prototype.bindEvent=function(){for(var t=this.$element,i=this.options.trigger.split(" "),e=i.length;e--;){var o=i[e];if("click"===o)t.off("click."+this.type).on("click."+this.type,this.options.selector,l.proxy(this.toggle,this));else if("manual"!==o){var n="hover"===o?"mouseenter":"focusin",s="hover"===o?"mouseleave":"focusout";t.off(n+"."+this.type).on(n+"."+this.type,this.options.selector,l.proxy(this.enter,this)),t.off(s+"."+this.type).on(s+"."+this.type,this.options.selector,l.proxy(this.leave,this))}}return(this.options.keepShowWhenOnTip||this.options.keepShowWhenClickTip)&&this.bindTipEvent(),this},a.prototype.bindTipEvent=function(){var o=this.tip(),n=this;return this.options.keepShowWhenOnTip&&(o.on("mouseenter",function(t){n.inState.show=n.inState.keepShow=n.inState.tipHover=!0,o.stop(!0),n.setStyle(),o.show()}),o.on("mouseleave",function(t){n.inState.tipHover=!1,n.inState.tipClick||(n.inState.keepShow=!1,n.inState.show&&(n.inState.show=!1,n.hide()))})),this.options.keepShowWhenClickTip&&o.on("click",function(t){n.inState.tipClick?(n.inState.tipClick=n.inState.keepShow=!1,n.inState.show&&!n.inState.tipHover&&o.detach()):(n.inState.show=n.inState.tipClick=n.inState.keepShow=!0,o.stop(!0).show(),n.setStyle())}),n.options.cancelKeepShowWhenClickOtherPlace&&l("body").on("click",function(t){if(n.inState.show){var i=l(t.target),e=n.getTipUId();i.is(n.$element)||i.is(o)||i.closest("#"+e).is(o)||n.inState.tipClick&&(n.inState.tipClick=!1,n.inState.keepShow=!1,n.inState.tipHover||n.hide())}}),this},a.prototype.enter=function(){return this.inState.hover=!0,this.show(),this.$element.trigger("enter"),this},a.prototype.leave=function(){return this.inState.hover=!1,this.inState.keepShow||this.hide(),this.$element.trigger("leave"),this},a.prototype.toggle=function(t){t=t||this.options,this.$element.trigger("tooltip.toggle");var i=this.tip();return t.onToggle&&"function"==typeof t.onToggle&&t.onToggle(i),this.inState.show?(this.inState.show=!1,this.inState.click=!1,this.hide()):(this.inState.show=!0,this.inState.click=!0,this.show()),this},a.prototype.show=function(t){t=t||this.options,this.$element.trigger("tooltip.beforeShow");var i=this.tip();i.detach();var e=this.tipUId||this.getUID(h);return this.tipUId=e,i.attr("id",e),this.setContent(),t.$container?t.$container.append(i):l("body").append(i),this.setStyle(),this.setPosition(),t.beforeShow&&"function"==typeof t.beforeShow&&t.beforeShow(i),this.inState.show=!0,this.showWithAnimation(),this.$element.trigger("tooltip.show"),t.afterShow&&"function"==typeof t.afterShow&&t.afterShow(i),this},a.prototype.setStyle=function(t,i){t=this.$element,i=i||this.options;var e=t.attr("data-tooltip-opacity")||i.opacity||this.getDefaults().opacity,o=this.tip();return o.addClass("tooltip-theme-"+this.options.theme),o.css({opacity:e}),this},a.prototype.showWithAnimation=function(t,i){i=i||this.options,t=t||this.tip(),i.enableAnimation?(t.stop(!0).fadeIn(this.options.delay.show),i.animation&&"object"==typeof i.animation&&t.animateCss(i.animation.show)):t.stop(!0).show()},a.prototype.hide=function(t){t=t||this.options,this.inState.show=!1,this.$element.trigger("tooltip.beforeHide");var i=this.tip();return t.beforeHide&&"function"==typeof t.beforeHide&&t.beforeHide(i),this.hideTipAction(),this.$element.trigger("tooltip.hide"),t.afterHide&&"function"==typeof t.afterHide&&t.afterHide(i),this},a.prototype.hideTipAction=function(){var t=this.tip();this.setStyle(),this.hideWithAnimation();var i=this;return i.options.enableAnimation?(clearTimeout(i.timer.timerDetach),i.timer.timerDetach=setTimeout(function(){i.inState.hover||i.inState.keepShow||(t.detach(),i.inState.keepShow=!1)},this.options.delay.hide)):i.inState.hover||i.inState.keepShow||(t.detach(),i.inState.keepShow=!1),this},a.prototype.hideWithAnimation=function(t,i){if(i=i||this.options,t=t||this.tip(),i.enableAnimation){t.stop(!0).fadeOut(this.options.delay.hide);var e=this.getAnimation();e&&"object"==typeof e&&t.animateCss(i.animation.hide)}else t.stop(!0).show()},a.prototype.getElementPosition=function(t){var i=(t=t||this.$element)[0],e="BODY"===i.tagName.toUpperCase(),o=i.getBoundingClientRect();null==o.width&&(o=l.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var n=p.SVGElement&&i instanceof p.SVGElement,s=e?{top:0,left:0}:n?null:t.offset(),h={scroll:e?r.documentElement.scrollTop||r.body.scrollTop:t.scrollTop()},a=e?{width:l(p).width(),height:l(p).height()}:null;return l.extend({},o,h,a,s)},a.prototype.setPosition=function(t,i){t=t||this.tip(),i=i||this.getElementPosition();var e=this.getElementSize(t);this.placement=this.getPlacement();var o=this.getSuitablePosition(this.placement,i,e.width,e.height),n=this.options;return n.positionOffset&&"object"==typeof n.positionOffset&&(o=this.setPositionOffset(t,o)),this.tipPosition=o,n.autoAdaptPlacement&&this.setPositionAutoAdapt(this.$element,i,e),t.css({top:this.tipPosition.top,left:this.tipPosition.left}),t.addClass("tooltip-placement-"+this.placement),this},a.prototype.setPositionAutoAdapt=function(t,i,e){t=t||this.$element,i=i||this.getElementPosition(t);this.tipPosition;var o=this.placement,n=this.getElementPosition(l("body"));return console.log("outerPosition",n),this.placement="top"===o&&i.top-e.height<n.top?"bottom":"bottom"===o&&i.bottom+e.height>n.bottom?"top":"left"===o&&i.left-e.width<n.left?"right":"right"===o&&i.right+e.width>n.right?"left":o,this.tipPosition=this.getSuitablePosition(this.placement,i,e.width,e.height),this},a.prototype.setPositionOffset=function(t,i){var e=this.options;return i=i||this.getTipPosition(),this.calculatePositionOffset(i,parseInt(e.positionOffset.left),parseInt(e.positionOffset.top))},a.prototype.getPlacement=function(t){var i=this.options;return(t=t||this.$element).attr("data-tooltip-placement")||t.attr("tooltip-placement")||i.placement},a.prototype.getElementSize=function(t){return{width:(t=t||this.tip()).outerWidth(),height:t.outerHeight()}},a.prototype.getSuitablePosition=function(t,i,e,o){var n=l.extend({},i);switch(t){case"top":n.top=this.calculatePositionOffset(i,null,o).top,n.left=this.calculatePositionOffset(i,(e-i.width)/2,null).left;break;case"left":n.top=this.calculatePositionOffset(i,null,(o-i.height)/2).top,n.left=this.calculatePositionOffset(i,e,null).left;break;case"right":n.top=this.calculatePositionOffset(i,null,(o-i.height)/2).top,n.left=this.calculatePositionOffset(i,-i.width,null).left;break;case"bottom":n.top=this.calculatePositionOffset(i,null,-i.height).top,n.left=this.calculatePositionOffset(i,(e-i.width)/2,null).left;break;case"top-left":n.top=this.calculatePositionOffset(i,null,o).top,n.left=this.calculatePositionOffset(i,e/2,null).left;break;case"top-right":n.top=this.calculatePositionOffset(i,null,o).top,n.left=this.calculatePositionOffset(i,-(i.width-e/2),null).left;break;case"bottom-left":n.top=this.calculatePositionOffset(i,null,-i.height).top,n.left=this.calculatePositionOffset(i,e/2,null).left;break;case"bottom-right":n.top=this.calculatePositionOffset(i,null,-i.height).top,n.left=this.calculatePositionOffset(i,-(i.width-e/2),null).left;break;default:n.top=this.calculatePositionOffset(i,null,o).top,n.left=this.calculatePositionOffset(i,(e-i.width)/2,null).left}return n},a.prototype.calculatePositionOffset=function(t,i,e){var o=l.extend({},t);return o.top=e?parseInt(t.top)-parseInt(e):parseInt(t.top),o.left=i?parseInt(t.left)-parseInt(i):parseInt(t.left),o},a.prototype.tip=function(){if(!this.$tip&&(this.$tip=l(this.options.template),1!==this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},a.prototype.getTipPosition=function(){return this.tipPosition},a.prototype.getAnimation=function(t){if(!this.animation){t=t||this.options;var i=s;t.animation&&"object"==typeof t.animation&&(i=t.animation);var e=this.$element,o=e.attr("data-tooltip-animation-show")||e.attr("data-tooltip-animation")||s,n=e.attr("data-tooltip-animation-hide")||e.attr("data-tooltip-animation")||s;i=(o&&n?{show:o,hide:n}:s)||i,this.animation=i}return this.animation},a.prototype.getTipUId=function(){return this.tipUId},a.prototype.title=function(){var t=this.$element,i=this.options;return t.attr("title")||t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)||"Tooltip"},a.prototype.fixTitle=function(){var t=this.$element;return(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title",""),this},a.prototype.setContent=function(){var t=this.tip(),i=this.title();return t.find(".tooltip-inner")[this.options.enableHtml?"html":"text"](i),t.attr("class","").addClass("tooltip-wrap"),this},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),r.getElementById(t););return t},l.fn[h]=function(e,o){var n=s;return this.each(function(){var t=l(this),i=l.data(this,h);"string"==typeof e?i?l.isFunction(i[e])&&"_"!==e.charAt(0)?("destroy"===e&&t.removeData(h),o instanceof Array||(o=[o]),n=i[e].apply(i,o)):f("No such method : "+e):f("Not initialized, can not call method : "+e):"boolean"==typeof e?n=i:l.data(this,h,new a(this,l.extend(!0,{},e)))}),n||this},l.fn.tooltip.Constructor=a,l.fn.tooltip.defaults=a.DEFAULTS}(jQuery,window,document);
//# sourceMappingURL=tooltip.js.map